<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RECO</title>

    <!-- BOOTSWATCH -->
    <link
      rel="stylesheet"
      href="assets/css/bootstrapquartz.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  </head>
  
  <!--#f1602e -->
<nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand" >
      <img src="images/logo-webapps.svg" alt="" width="30" height="24" class="d-inline-block align-text-top">
      RECO
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarColor02">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link active" > Bienvenido/a  <span id="nombre"> </span> <span id="totalCuenta"> $</span></a>
        
        </li>
        <li class="nav-item">
        <a class="nav-link" href="cuentas.html">Cuentas</a> 
        </li>
     <!--
        <li class="nav-item">
          <a class="nav-link" href="#">Pricing</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">About</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Dropdown</a>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="#">Action</a>
            <a class="dropdown-item" href="#">Another action</a>
            <a class="dropdown-item" href="#">Something else here</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">Separated link</a>
          </div>
        </li>
      -->
      </ul>
   
      <form class="d-flex">
         <!--  <input class="form-control me-sm-2" type="text" placeholder="Search">  -->
      <a id="cerrar" style="color: white; font-weight: bold; text-decoration: none;" > Cerrar Sesi√≥n</a> 
      </form>
  
    </div>
  </div>
</nav>
<div style="margin-top: 100px;"></div>
  <body>
    
    <!-- ADD TASK -->
    <div class="container ">
      <div class="row">
        <div class="col-md-6">
          <div class="card">
            <div class="card-body">
              <h1 class="h4">Registrar</h1>

              <form id="task-form">
                <label for="title">Actividad:</label>
                

                <select class="form-select" id="task-title">
                  <option>Gastos</option>
                  <option>Ingresos</option>

                 
                </select>

                <label for="title">Categoria:</label>
                

                <select onchange="addInput()" class="form-select" id="task-category" > 
               

                 
                </select>

                <label for="description">Cantidad:</label>
                <input type="number"
                  id="task-number"
                  class="form-control mb-2"
                  placeholder="$"
                >
              

                <label for="description">Descripci√≥n:</label>
                <textarea
                  id="task-description"
                  rows="3"
                  class="form-control mb-3"
                  placeholder="Describe tu ingreso o egreso"
                ></textarea>
                
                <button class="btn btn-primary" id="btn-task-form">Guardar</button>
            
              </form>
            </div>
          </div>
        </div>
        <!-- Tasks List -->
        <!--
        <div class="col-md-6" id="tasks-container"></div>
        -->
      </div>
    </div>
    <div class="col-md-6" id="tasks-containerextra">
     
    </div>

 
    
    <!-- The Modal -->
    <div class="modal" id="myModale">
      <div class="modal-dialog">
        <div class="modal-content">
    
          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title">Nueva Categor√≠a</h4>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
    
          <!-- Modal body -->
          <div class="modal-body">
            <form id="task-form3">
              
              <input id="nuevaCategoria" type="text" class="form-control mt-3" placeholder="Nombre de tu categor√≠a">
              <br>
              <div>
                <label>Elige un icono</label>
                <select onchange="selectEmoji()" class="form-select" id="task-emoji" > 
               
                  <option>üçï</option>
                  <option>ü•≥</option>
                  <option>üéì</option>
                  <option>üé≠</option>
                  <option>üåÆ</option>
                  <option>üöô</option>
                  <option>üéâ</option>
                  <option>üê∂</option>
                  <option>üê±</option>
                  <option>üçâ</option>
                  <option>ü•ï</option>
                  <option>ü•©</option>
                  <option>üçó</option>
                  <option>üç∫</option>
                  <option>‚öΩ</option>
                  <option>üö¥üèª‚Äç‚ôÄÔ∏è</option>
                  <option>üéº</option>
                  <option>‚õ™</option>
                  <option>üí∏</option>
                  <option>üìó</option>
                  <option>üìç</option>
                  <option>‚ù§Ô∏è</option>
                  <option>üõ†Ô∏è</option>
                  <option>üñ•Ô∏è</option>
                 
                </select>
               
                
                 
              </div>
              <br>
              <button  class="btn btn-primary" id="btn-task-formnuevo">Guardar</button>
            </form>
          </div>
    
          <!-- Modal footer -->
          <div class="modal-footer">
            <button type="button" class="btn btn-info" data-bs-dismiss="modal">Cancelar</button>
          </div>
    
        </div>
      </div>
    </div>
    

    <div class="container mt-3">
     
      <br>
      <!-- Nav pills -->
      <ul class="nav nav-pills" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" data-bs-toggle="pill" href="#home">Hoy</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-bs-toggle="pill" href="#menu1">Mes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-bs-toggle="pill" href="#menu2">A√±o</a>
        </li>
      </ul>
    
      <!-- Tab panes -->
      <div class="tab-content">
        <div id="home" class="container tab-pane active"><br>
          <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                 
                  <th>Categoria</th>
              
                  <th>Cantidad</th>
                  <th>Descripci√≥n</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="tasks-container">
                
              
              </tbody>
            </table>
       </div>
         </div>
         <!-- aqui separamos, y es la cuenta del mes cursante-->
        <div id="menu1" class="container tab-pane fade"><br>
          <div class="table-responsive">
          <table class="table  table-striped" id="PuntosCanjeados">
            <thead>
              <tr>
                <th>Fecha</th>
                <th>Categoria</th>
                <th>Tipo</th>
                <th>Cantidad</th>
                <th>Descripci√≥n</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody id="tasks-container2">
              
            
            </tbody>
            
          </table>
          <button onclick="htmlExcel('PuntosCanjeados', 'ReporteReco')" class="btn btn-primary">Exportar a Excel</button>
        </div>
        </div>
        <div id="menu2" class="container tab-pane fade"><br>
          <h3>Ver a√±o</h3>
          <p>Para poder ver un historial, es necesario tener al menos 3 meses de gastos.</p>
        </div>
      </div>
    </div>

   



    
<!------ Include the above in your HEAD tag ---------->

<div class="card border-secondary mb-3" >
  <div class="card-header">Newsletter</div>
  <div class="card-body">
    <h4 class="card-title">Primary card title</h4>
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
  </div>
  
</div>
    <!-- CUSTOM CODE -->
  

    <script type="module" src="./index.js" type="module"></script>
   
  <script>
    //exportar a excel

    function htmlExcel(PuntosCanjeados, nombreArchivo = '') {
  let linkDescarga;
  let tipoDatos = 'application/vnd.ms-excel';
  let tablaDatos = document.getElementById(PuntosCanjeados);
  let tablaHTML = tablaDatos.outerHTML.replace(/ /g, '%20');

  // Nombre del archivo
  nombreArchivo = nombreArchivo ? nombreArchivo + '.xls' : 'ReporteReco.xls';

  // Crear el link de descarga
  linkDescarga = document.createElement("a");

  document.body.appendChild(linkDescarga);

  if (navigator.msSaveOrOpenBlob) {
    let blob = new Blob(['\ufeff', tablaHTML], {
      type: tipoDatos
    });
    navigator.msSaveOrOpenBlob(blob, nombreArchivo);
  } else {
    // Crear el link al archivo
    linkDescarga.href = 'data:' + tipoDatos + ', ' + tablaHTML;

    // Setear el nombre de archivo
    linkDescarga.download = nombreArchivo;

    //Ejecutar la funci√≥n
    linkDescarga.click();
  }
}


    //activar boton para agregar categoria
function addInput(){
  var x = document.getElementById("task-category").value;
 // document.getElementById("demo").innerHTML = "You selected: " + x;
  //alert(x)
  if(x == 'Nuevo ‚ûï'){
    $("#myModale").modal("show");
  }else{

  }
}

function selectEmoji(){
  var x = document.getElementById("task-emoji").value;
 // document.getElementById("demo").innerHTML = "You selected: " + x;
  //alert(x)
// console.log(x)
}

  </script>

  </body>
</html>
