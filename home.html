<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RECO</title>

  <!-- BOOTSWATCH -->
  <link rel="stylesheet" href="assets/css/bootstrapquartz.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

</head>

<!--#f1602e -->
<nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand">
      <img src="images/logo-webapps.svg" alt="" width="30" height="24" class="d-inline-block align-text-top">
      RECO
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor02"
      aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarColor02">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link active"> Bienvenido/a <span id="nombre"> </span> <span id="totalCuenta"> $</span></a>

        </li>
        <li class="nav-item">
          <a class="nav-link" href="cuentas.html">Cuentas</a>
        </li>
        <!--
        <li class="nav-item">
          <a class="nav-link" href="#">Pricing</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">About</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Dropdown</a>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="#">Action</a>
            <a class="dropdown-item" href="#">Another action</a>
            <a class="dropdown-item" href="#">Something else here</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">Separated link</a>
          </div>
        </li>
      -->
      </ul>

      <form class="d-flex">
        <!--  <input class="form-control me-sm-2" type="text" placeholder="Search">  -->
        <a id="cerrar" style="color: white; font-weight: bold; text-decoration: none;"> Cerrar Sesión</a>
      </form>

    </div>
  </div>
</nav>
<div style="margin-top: 100px;"></div>

<body>

  <!-- ADD TASK -->
  <div class="container ">
    <div class="row" >
      <div class="col-md-6" id="tasks-containerextra">
        <img class="img-fluid rounded" src="images/undraw_accept_tasks_re_09mv.svg">
      </div>

      <div class="col-md-6" id="FormRegistrar">
        <div class="card">
          <div class="card-body">
            <h1 class="h4">Registrar</h1>

            <form id="task-form">
              <label for="title">Actividad:</label>


              <select class="form-select" id="task-title">
                <option>Gastos</option>
                <option>Ingresos</option>


              </select>

              <label for="title">Categoria:</label>


              <select onchange="addInput()" class="form-select" id="task-category">



              </select>

              <label for="description">Cantidad:</label>
              <input type="number" step="any" id="task-number" class="form-control mb-2" placeholder="$">


              <label for="description">Descripción:</label>
              <textarea id="task-description" rows="3" class="form-control mb-3"
                placeholder="Describe tu ingreso o egreso"></textarea>

              <button class="btn btn-primary" id="btn-task-form">Guardar</button>

            </form>
          </div>
        </div>
      </div>
      <!-- Tasks List -->
      <!--
        <div class="col-md-6" id="tasks-container"></div>
        -->
    </div>
  </div>




  <!-- The Modal -->
  <div class="modal" id="myModale">
    <div class="modal-dialog">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Nueva Categoría</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <!-- Modal body -->
        <div class="modal-body">
          <form id="task-form3">

            <input id="nuevaCategoria" type="text" class="form-control mt-3" placeholder="Nombre de tu categoría">
            <br>
            <div>
              <label>Elige un icono</label>
              <select onchange="selectEmoji()" class="form-select" id="task-emoji">

                <option>🍕</option>
                <option>🥳</option>
                <option>🎓</option>
                <option>🎭</option>
                <option>🌮</option>
                <option>🚙</option>
                <option>🎉</option>
                <option>🐶</option>
                <option>🐱</option>
                <option>🍉</option>
                <option>🥕</option>
                <option>🥩</option>
                <option>🍗</option>
                <option>🍺</option>
                <option>⚽</option>
                <option>🚴🏻‍♀️</option>
                <option>🎼</option>
                <option>⛪</option>
                <option>💸</option>
                <option>📗</option>
                <option>📍</option>
                <option>❤️</option>
                <option>🛠️</option>
                <option>🖥️</option>

              </select>



            </div>
            <br>
            <button class="btn btn-primary" id="btn-task-formnuevo">Guardar</button>
          </form>
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-info" data-bs-dismiss="modal">Cancelar</button>
        </div>

      </div>
    </div>
  </div>


  <div class="container mt-3">

    <br>
    <!-- Nav pills -->
    <ul class="nav nav-pills" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" data-bs-toggle="pill" href="#home">Hoy</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-bs-toggle="pill" href="#menu1">Mes</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-bs-toggle="pill" href="#menu2" id="menuAnio">Año</a>
      </li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content">
      <div id="home" class="container tab-pane active"><br>
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
              <tr>

                <th>Categoria</th>

                <th>Cantidad</th>
                <th>Descripción</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody id="tasks-container">


            </tbody>
          </table>
        </div>
      </div>
      <!-- aqui separamos, y es la cuenta del mes cursante-->
      <div id="menu1" class="container tab-pane fade"><br>
        <div class="table-responsive">
          <table class="table  table-striped" id="testTable">
            <thead>
              <tr>
                <th>Fecha</th>
                <th>Categoria</th>
                <th>Tipo</th>
                <th>Cantidad</th>
                <th>Descripción</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody id="tasks-container2">


            </tbody>

          </table>
          
        </div>
        <button id="btnExport" onclick="fnExcelReport();" class="btn btn-primary">Exportar a
          Excel</button>
      </div>
      <div id="menu2" class="container tab-pane fade"><br>
        <button id="miVerTodo"  class="btn btn-primary btn-sm">Ver todo</button>
        <div class="table-responsive">
          <table class="table  table-striped" id="testTable2">
            <thead>
              <tr>
                <th>Fecha</th>
                <th>Categoria</th>
                <th>Tipo</th>
                <th>Cantidad</th>
                <th>Descripción</th>
                
              </tr>
            </thead>
            <tbody id="tasks-container3">


            </tbody>

          </table>
          
        </div>
        <button id="btnExport2" onclick="fnExcelReport2();" class="btn btn-primary">Exportar a
          Excel</button>
      </div>
    </div>
  </div>

<br>

<iframe id="txtArea1" style="display:none"></iframe>


  <!------ Include the above in your HEAD tag ---------->
<div class="container">
  <div class="card border-secondary ">
    <div class="card-header">Newsletter</div>

    <div class="row">
      <div class="col-md-4">
        <div class="card-body">
          <h4 class="card-title">¿Deudas?</h4>
          <p class="card-text">¿Te has preguntado si es posible pagar tus deudas o créditos, de acuerdo al CAT?</p>
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myNotice1">Seguir leyendo</button>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card-body">
          <h4 class="card-title">¿Cómo empezar en el mundo de las inversiones?</h4>
          <p class="card-text">Pon a tu dinero a trabajar por tí, y disfruta de los beneficios al largo plazo.</p>
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myNotice2">Seguir leyendo</button>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card-body">
          <h4 class="card-title">¡Promoción de seguro de auto!</h4>
          <p class="card-text">Obten hasta un 30% de descuento en tu primer año de seguro de auto, con cobertura total.</p>
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myNotice3">Conoce más</button>
        </div>
      </div>
    </div>

  </div>
</div>
  <!-- CUSTOM CODE NOTICIAS MODALES -->
<!-- NOTICIA 1-->
<!-- The Modal -->
<div class="modal" id="myNotice1">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">¿Deudas?</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <p>¿Te has preguntado si es posible pagar tus deudas o créditos, de acuerdo al CAT?</p>
       
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-info" data-bs-dismiss="modal">Cancelar</button>
      </div>

    </div>
  </div>
</div>


<!-- NOTICIA 2-->
<!-- The Modal -->
<div class="modal" id="myNotice2">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">¿Cómo empezar en el mundo de las inversiones?</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
       <p>Pon a tu dinero a trabajar por tí, y disfruta de los beneficios al largo plazo.</p>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-info" data-bs-dismiss="modal">Cancelar</button>
      </div>

    </div>
  </div>
</div>

<!-- NOTICIA 3-->
<!-- The Modal -->
<div class="modal" id="myNotice3">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">¡Promoción de seguro de auto!</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
       <p>Obten hasta un 30% de descuento en tu primer año de seguro de auto, con cobertura total.</p>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-info" data-bs-dismiss="modal">Cancelar</button>
      </div>

    </div>
  </div>
</div>
  <script type="module" src="./index.js" type="module"></script>


  <script type="text/javascript">
  function fnExcelReport()
{
    var tab_text="<table border='2px'><tr bgcolor='#87AFC6'>";
    var textRange; var j=0;
    tab = document.getElementById('testTable'); // id of table

    for(j = 0 ; j < tab.rows.length ; j++) 
    {     
        tab_text=tab_text+tab.rows[j].innerHTML+"</tr>";
        //tab_text=tab_text+"</tr>";
    }

    tab_text=tab_text+"</table>";
    tab_text= tab_text.replace(/<A[^>]*>|<\/A>/g, "");//remove if u want links in your table
    tab_text= tab_text.replace(/<img[^>]*>/gi,""); // remove if u want images in your table
    tab_text= tab_text.replace(/<input[^>]*>|<\/input>/gi, ""); // reomves input params

    var ua = window.navigator.userAgent;
    var msie = ua.indexOf("MSIE "); 

    if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./))      // If Internet Explorer
    {
        txtArea1.document.open("txt/html","replace");
        txtArea1.document.write(tab_text);
        txtArea1.document.close();
        txtArea1.focus(); 
        sa=txtArea1.document.execCommand("SaveAs",true,"Say Thanks to Sumit.xls");
    }  
    else                 //other browser not tested on IE 11
        sa = window.open('data:application/vnd.ms-excel,' + encodeURIComponent(tab_text));  

    return (sa);
}

//exportar a excel el reporte del año

function fnExcelReport2()
{
    var tab_text="<table border='2px'><tr bgcolor='#87AFC6'>";
    var textRange; var j=0;
    tab = document.getElementById('testTable2'); // id of table

    for(j = 0 ; j < tab.rows.length ; j++) 
    {     
        tab_text=tab_text+tab.rows[j].innerHTML+"</tr>";
        //tab_text=tab_text+"</tr>";
    }

    tab_text=tab_text+"</table>";
    tab_text= tab_text.replace(/<A[^>]*>|<\/A>/g, "");//remove if u want links in your table
    tab_text= tab_text.replace(/<img[^>]*>/gi,""); // remove if u want images in your table
    tab_text= tab_text.replace(/<input[^>]*>|<\/input>/gi, ""); // reomves input params

    var ua = window.navigator.userAgent;
    var msie = ua.indexOf("MSIE "); 

    if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./))      // If Internet Explorer
    {
        txtArea1.document.open("txt/html","replace");
        txtArea1.document.write(tab_text);
        txtArea1.document.close();
        txtArea1.focus(); 
        sa=txtArea1.document.execCommand("SaveAs",true,"Say Thanks to Sumit.xls");
    }  
    else                 //other browser not tested on IE 11
        sa = window.open('data:application/vnd.ms-excel,' + encodeURIComponent(tab_text));  

    return (sa);
}
    </script>

  <script>
    //exportar a excel


    //activar boton para agregar categoria
    function addInput() {
      var x = document.getElementById("task-category").value;
      // document.getElementById("demo").innerHTML = "You selected: " + x;
      //alert(x)
      if (x == 'Nuevo ➕') {
        $("#myModale").modal("show");
      } else {

      }
    }

    function selectEmoji() {
      var x = document.getElementById("task-emoji").value;
      // document.getElementById("demo").innerHTML = "You selected: " + x;
      //alert(x)
      // console.log(x)
    }

  </script>

</body>

</html>